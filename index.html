<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dream Tracker</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
  <link
    rel="stylesheet"
    href="https://unpkg.com/swiper/swiper-bundle.min.css"
  />
</head>
<body>
  <div class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="gradient-bg text-white p-4 shadow-lg">
      <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-2xl font-bold">Dream Tracker</h1>
        <div class="flex items-center space-x-4">
          <div id="userDisplay" class="hidden md:flex items-center space-x-2">
            <img id="profilePic" src="" alt="Avatar" class="w-8 h-8 rounded-full object-cover hidden" />
            <div id="avatarInitial" class="contributor-avatar">G</div>
            <span id="currentUserName" class="mr-2">Guest</span>
          </div>
          <button id="toggleTheme" class="p-2 rounded-full hover:bg-white/20">
            <img src="https://cdn-icons-png.flaticon.com/512/869/869869.png" alt="Toggle Theme" class="w-6 h-6" />
          </button>
          <button id="openSettingsBtn" class="p-2 rounded-full hover:bg-white/20">
            <img src="https://cdn-icons-png.flaticon.com/512/3524/3524639.png" alt="Settings" class="w-6 h-6" />
          </button>
          <button id="logoutBtn" class="p-2 rounded-full hover:bg-white/20 hidden">
            <img src="https://cdn-icons-png.flaticon.com/512/159/159707.png" alt="Logout" class="w-6 h-6" />
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto p-4 md:p-6">
      <!-- Authentication Screen -->
      <div id="authScreen" class="block">
        <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-md p-8 mb-8 text-center">
          <div class="mb-6 flex justify-center">
            <img
              src="https://cdn-icons-png.flaticon.com/512/861/861370.png"
              alt="Welcome Icon"
              class="w-16 h-16"
            />
          </div>
          <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center">
            Welcome to Dream Tracker
          </h2>
          <p class="text-gray-600 mb-8 text-center">
            Plan and track your savings and expenses with your family or roommates.
          </p>
          <div class="auth-container mx-auto">
            <!-- Auth Tabs -->
            <div class="auth-tabs flex mb-6">
              <div id="signupTab" class="auth-tab active flex-1 py-3 text-center">
                Sign Up
              </div>
              <div id="loginTab" class="auth-tab flex-1 py-3 text-center">
                Log In
              </div>
            </div>
            <!-- Signup Form -->
            <div id="signupForm" class="auth-form mx-auto">
              <form id="userSignupForm" class="space-y-4">
                <div class="text-left">
                  <label for="signupName" class="block text-sm font-medium text-gray-700 mb-1">
                    Full Name
                  </label>
                  <input
                    type="text"
                    id="signupName"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Enter your full name"
                    required
                  />
                </div>
                <div class="text-left">
                  <label for="signupEmail" class="block text-sm font-medium text-gray-700 mb-1">
                    Email Address
                  </label>
                  <input
                    type="email"
                    id="signupEmail"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Enter your email address"
                    required
                  />
                </div>
                <div class="text-left">
                  <label for="signupPassword" class="block text-sm font-medium text-gray-700 mb-1">
                    Password
                  </label>
                  <input
                    type="password"
                    id="signupPassword"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Create a password"
                    required
                    minlength="6"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Password must be at least 6 characters
                  </p>
                </div>
                <div class="text-left">
                  <label
                    for="signupConfirmPassword"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Confirm Password
                  </label>
                  <input
                    type="password"
                    id="signupConfirmPassword"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Confirm your password"
                    required
                    minlength="6"
                  />
                </div>
                <div class="flex items-center">
                  <input
                    type="checkbox"
                    id="termsAgree"
                    class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"
                    required
                  />
                  <label for="termsAgree" class="ml-2 block text-sm text-gray-700">
                    I agree to the
                    <a href="#" class="text-indigo-600 hover:text-indigo-800">Terms of Service</a>
                    and
                    <a href="#" class="text-indigo-600 hover:text-indigo-800">Privacy Policy</a>
                  </label>
                </div>
                <button
                  type="submit"
                  class="w-full gradient-bg text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium"
                >
                  Create Account
                </button>
              </form>
            </div>
            <!-- Login Form -->
            <div id="loginForm" class="auth-form mx-auto hidden">
              <form id="userLoginForm" class="space-y-4">
                <div class="text-left">
                  <label for="loginEmail" class="block text-sm font-medium text-gray-700 mb-1">
                    Email Address
                  </label>
                  <input
                    type="email"
                    id="loginEmail"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Enter your email address"
                    required
                  />
                </div>
                <div class="text-left">
                  <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">
                    Password
                  </label>
                  <input
                    type="password"
                    id="loginPassword"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Enter your password"
                    required
                  />
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center">
                    <input
                      type="checkbox"
                      id="rememberMe"
                      class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"
                    />
                    <label for="rememberMe" class="ml-2 block text-sm text-gray-700">
                      Remember me
                    </label>
                  </div>
                  <!-- Updated Forgot Password link to trigger modal -->
                  <button
                    id="forgotPasswordBtn"
                    type="button"
                    class="text-sm text-indigo-600 hover:text-indigo-800"
                  >
                    Forgot password?
                  </button>
                </div>
                <button
                  type="submit"
                  class="w-full gradient-bg text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium"
                >
                  Log In
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Forgot Password Modal -->
      <div
        id="forgotPasswordModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
      >
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-semibold text-gray-800">Reset Password</h3>
            <button id="closeForgotModal" class="text-gray-500 hover:text-gray-700">
              <img
                src="https://cdn-icons-png.flaticon.com/512/1828/1828774.png"
                alt="Close"
                class="w-6 h-6"
              />
            </button>
          </div>
          <form id="forgotPasswordForm" class="space-y-4">
            <div>
              <label for="forgotEmail" class="block text-sm font-medium text-gray-700 mb-1">
                Enter your registered email
              </label>
              <input
                type="email"
                id="forgotEmail"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="Email address"
                required
              />
            </div>
            <div id="newPasswordContainer" class="hidden space-y-4">
              <div>
                <label for="newPassword" class="block text-sm font-medium text-gray-700 mb-1">
                  New Password
                </label>
                <input
                  type="password"
                  id="newPassword"
                  class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                  placeholder="Enter new password"
                  minlength="6"
                />
                <p class="text-xs text-gray-500 mt-1">
                  Password must be at least 6 characters
                </p>
              </div>
              <div>
                <label for="confirmNewPassword" class="block text-sm font-medium text-gray-700 mb-1">
                  Confirm New Password
                </label>
                <input
                  type="password"
                  id="confirmNewPassword"
                  class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                  placeholder="Confirm new password"
                  minlength="6"
                />
              </div>
            </div>
            <div class="flex justify-end space-x-3 pt-2">
              <button
                type="button"
                id="cancelForgot"
                class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
              >
                Cancel
              </button>
              <button
                type="submit"
                id="forgotSubmit"
                class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
              >
                Next
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Welcome Screen -->
      <div id="welcomeScreen" class="hidden">
        <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-md p-8 mb-8 text-center">
          <div class="mb-6 flex justify-center">
            <img
              src="https://cdn-icons-png.flaticon.com/512/1946/1946436.png"
              alt="Goals Icon"
              class="w-16 h-16"
            />
          </div>
          <h2 class="text-3xl font-bold text-gray-800 mb-4">
            Welcome to Dream Tracker
          </h2>
          <p class="text-gray-600 mb-8">
            Plan and track your savings and expenses with your family or roommates.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-indigo-50 p-6 rounded-lg">
              <h3 class="text-lg font-semibold text-indigo-700 mb-2">
                Create Multiple Goals & Savings
              </h3>
              <p class="text-gray-600">Save for a home, car, electronics, or any other purchase</p>
            </div>
            <div class="bg-indigo-50 p-6 rounded-lg">
              <h3 class="text-lg font-semibold text-indigo-700 mb-2">
                Track All Expenses
              </h3>
              <p class="text-gray-600">
                Record bills, rent, groceries, fuel, travel, and more
              </p>
            </div>
          </div>
          <button
            id="getStartedBtn"
            class="gradient-bg text-white py-3 px-8 rounded-lg hover:opacity-90 transition-opacity font-medium text-lg"
          >
            Get Started
          </button>
        </div>
      </div>

      <!-- Household Setup -->
      <div id="householdSetup" class="hidden">
        <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-md p-6 mb-8">
          <h2 class="text-2xl font-semibold text-gray-800 mb-4">Set Up Your Household</h2>
          <p class="text-gray-600 mb-6">
            Create your household and add members who will contribute to your savings goals.
          </p>
          <form id="householdForm" class="space-y-6">
            <div>
              <label for="householdName" class="block text-sm font-medium text-gray-700 mb-1">
                Household Name
              </label>
              <input
                type="text"
                id="householdName"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="e.g., Smith Family or Apartment 4B"
                required
              />
            </div>
            <div>
              <label for="primaryMemberName" class="block text-sm font-medium text-gray-700 mb-1">
                Your Name (Primary Member)
              </label>
              <input
                type="text"
                id="primaryMemberName"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="Enter your name"
                required
              />
            </div>
            <div>
              <label for="primaryMemberIncome" class="block text-sm font-medium text-gray-700 mb-1">
                Your Monthly Income
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">₹</span>
                <input
                  type="number"
                  id="primaryMemberIncome"
                  class="input-field w-full pl-8 px-4 py-2 border rounded-lg focus:outline-none"
                  placeholder="Enter your monthly income"
                  required
                />
              </div>
            </div>
            <div id="householdMembers" class="space-y-4">
              <!-- Additional household members will be added here -->
            </div>
            <div class="flex justify-between">
              <button
                type="button"
                id="addHouseholdMember"
                class="text-indigo-600 hover:text-indigo-800 flex items-center"
              >
                <img
                  src="https://cdn-icons-png.flaticon.com/512/323/323296.png"
                  alt="Add Member"
                  class="w-5 h-5 mr-1"
                />
                Add Household Member
              </button>
            </div>
            <button
              type="submit"
              class="w-full gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium"
            >
              Continue to Add Goals
            </button>
          </form>
        </div>
      </div>

      <!-- Goals & Savings Setup -->
      <div id="goalsSetup" class="hidden">
        <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-md p-6 mb-8">
          <h2 class="text-2xl font-semibold text-gray-800 mb-4">Set Your Savings Goals</h2>
          <p class="text-gray-600 mb-6">Add items you want to save for and their details.</p>
          <form id="goalsForm" class="space-y-6">
            <div id="goalsList" class="space-y-6">
              <!-- Goal items will be added here -->
              <div class="goal-item border border-gray-200 rounded-lg p-4 relative">
                <div class="flex justify-between items-center mb-4">
                  <h3 class="text-lg font-medium text-gray-800">Goal #1</h3>
                  <button type="button" class="remove-goal hidden">
                    <img
                      src="https://cdn-icons-png.flaticon.com/512/1828/1828774.png"
                      alt="Remove Goal"
                      class="w-5 h-5"
                    />
                  </button>
                </div>
                <div class="space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Item Category</label>
                    <select
                      class="goal-category input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                      required
                    >
                      <option value="">Select a category</option>
                      <option value="home">Home/Property</option>
                      <option value="car">Vehicle</option>
                      <option value="electronics">Electronics</option>
                      <option value="furniture">Furniture</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Item Name</label>
                    <input
                      type="text"
                      class="goal-name input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                      placeholder="e.g., New Home, Car, TV, etc."
                      required
                    />
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Total Cost</label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">₹</span>
                      <input
                        type="number"
                        class="goal-cost input-field w-full pl-8 px-4 py-2 border rounded-lg focus:outline-none"
                        placeholder="Enter the total cost"
                        required
                      />
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Target Date</label>
                    <input
                      type="date"
                      class="goal-date input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                      required
                    />
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Bank Name</label>
                    <input
                      type="text"
                      class="goal-bank input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                      placeholder="Bank where saving"
                      required
                    />
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Contributors</label>
                    <div class="goal-contributors flex flex-wrap gap-2"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex justify-between">
              <button
                type="button"
                id="addGoalBtn"
                class="text-indigo-600 hover:text-indigo-800 flex items-center"
              >
                <img
                  src="https://cdn-icons-png.flaticon.com/512/323/323296.png"
                  alt="Add Goal"
                  class="w-5 h-5 mr-1"
                />
                Add Another Goal
              </button>
            </div>
            <button
              type="submit"
              class="w-full gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium"
            >
              Create Dashboard
            </button>
          </form>
        </div>
      </div>

<!-- Dashboard -->
<div id="dashboard" class="hidden">

  <!-- Summary Cards Row: Now 5 columns! -->
  <div class="grid grid-cols-1 md:grid-cols-5 gap-6 mb-6">
    <!-- Total Savings Card -->
    <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col justify-between">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-base font-semibold text-gray-800">Total Savings</h3>
        <img src="https://cdn-icons-png.flaticon.com/512/18157/18157886.png" alt="Savings Icon" class="w-10 h-10" />
      </div>
      <div class="flex flex-col">
        <span id="totalSavings" class="text-2xl font-bold text-gray-900">₹0</span>
        <div class="flex justify-between mt-1">
          <span class="text-xs text-gray-500">Across all goals</span>
          <span id="totalGoals" class="text-xs text-gray-500">0 goals</span>
        </div>
      </div>
    </div>
    <!-- Household Income Card -->
    <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col justify-between">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-base font-semibold text-gray-800">Household Income</h3>
        <img src="https://cdn-icons-png.flaticon.com/512/5002/5002078.png" alt="Income Icon" class="w-10 h-10" />
      </div>
      <div class="flex flex-col">
        <span id="householdIncome" class="text-2xl font-bold text-gray-900">₹0</span>
        <div class="flex justify-between mt-1">
          <span class="text-xs text-gray-500">Monthly</span>
          <span id="householdMemberCount" class="text-xs text-gray-500">0 members</span>
        </div>
      </div>
    </div>
    <!-- Net Income Card -->
    <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col justify-between">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-base font-semibold text-gray-800">Net Income</h3>
        <img src="https://cdn-icons-png.flaticon.com/512/2655/2655375.png" alt="Net Icon" class="w-10 h-10" />
      </div>
      <div class="flex flex-col">
        <span id="netIncome" class="text-2xl font-bold text-gray-900">₹0</span>
        <div class="flex justify-between mt-1">
          <span class="text-xs text-gray-500">Income - Expenses</span>
        </div>
      </div>
    </div>
    <!-- Income Breakdown Card -->
    <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col justify-between">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-base font-semibold text-gray-800">Income Breakdown</h3>
        <img src="https://cdn-icons-png.flaticon.com/512/10243/10243520.png" alt="Breakdown Icon" class="w-10 h-10" />
      </div>
      <div class="flex flex-col space-y-1">
        <span id="dailyIncome" class="text-lg font-bold text-gray-900">₹0 / day</span>
        <span id="monthlyRecommendation" class="text-xs text-gray-500">Recommended: ₹0 / month</span>
        <span id="leftoverIncome" class="text-xs text-green-600 font-semibold"></span>
      </div>
    </div>
    <!-- Total Expenses Card (moved to the 5th position in top row) -->
    <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col justify-center">
      <div class="flex items-center mb-2">
        <img src="https://cdn-icons-png.flaticon.com/512/6553/6553062.png" alt="Expense Icon" class="w-10 h-10 mr-2" />
        <h3 class="text-base font-semibold text-gray-800">Total Expenses</h3>
      </div>
      <span id="totalExpenses" class="text-2xl font-bold text-gray-900 mb-1 block">₹0</span>
      <div class="text-xs text-gray-500 mb-1">All categories</div>
      <div class="text-xs text-gray-500"><span id="expenseCategoriesCount">0</span> categories</div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
  <!-- Income vs Expenses Pie Chart Card -->
  <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col items-center justify-center"
       style="min-width: 240px;">
    <h3 class="text-base font-semibold text-gray-800 mb-2">Income vs Expenses</h3>
    <div class="flex flex-col items-center justify-center">
      <canvas id="incomeExpensesPie" width="140" height="140"></canvas>
      <div id="pieLegend" class="mt-2"></div>
    </div>
  </div>
  <!-- Monthly Expenses Trend -->
  <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col items-center justify-center"
       style="min-width: 240px;">
    <h3 class="text-base font-semibold text-gray-800 mb-2">Monthly Expenses Trend</h3>
    <canvas id="monthlyExpensesChart" width="220" height="120"></canvas>
  </div>
  <!-- Expenses by Category -->
  <div class="card bg-white rounded-xl shadow-md p-4 flex flex-col items-center justify-center"
       style="min-width: 240px;">
    <h3 class="text-base font-semibold text-gray-800 mb-2">Expenses by Category</h3>
    <canvas id="expenseCategoryChart" width="220" height="120"></canvas>
    </div>
  </div>



        <!-- Next Goals Due Card -->
        <div class="card bg-white rounded-xl shadow-md p-4 mb-8">
            <div class="flex items-center justify-between mb-2">
            <h3 class="text-base font-semibold text-gray-800">Next Goals Due</h3>
            <img src="https://cdn-icons-png.flaticon.com/512/2921/2921222.png" alt="Clock Icon" class="w-10 h-10" />
            </div>
            <div id="nextGoalsContainer" class="space-y-2 max-h-32 overflow-y-auto text-sm text-gray-700">
            <p class="text-gray-500">No goals yet.</p>
            </div>
        </div>

            <!-- Overall Savings & Expense Status (Compact) -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div id="overallStatusCard" class="card bg-white rounded-xl shadow-md p-3">
                <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-semibold text-gray-800">Overall Savings Status</h3>
                <img
                    src="https://cdn-icons-png.flaticon.com/512/7960/7960488.png"
                    alt="Checklist Icon"
                    class="w-10 h-10"
                />
                </div>
                <div class="space-y-1 text-xs text-gray-700">
                <div class="flex justify-between">
                    <span>Total Cost</span>
                    <span id="overallTotalCost" class="font-medium text-gray-900">₹0</span>
                </div>
                <div class="flex justify-between">
                    <span>Saved So Far</span>
                    <span id="overallSaved" class="font-medium text-gray-900">₹0</span>
                </div>
                <div class="flex justify-between">
                    <span>Remaining</span>
                    <span id="overallRemaining" class="font-medium text-gray-900">₹0</span>
                </div>
                </div>
            </div>
            <div id="overallExpenseCard" class="card bg-white rounded-xl shadow-md p-3">
                <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-semibold text-gray-800">Overall Expense Status</h3>
                <img
                    src="https://cdn-icons-png.flaticon.com/512/781/781831.png"
                    alt="Expense Chart Icon"
                    class="w-10 h-10"
                />
                </div>
                <div class="space-y-1 text-xs text-gray-700">
                <div class="flex justify-between">
                    <span>Total Spent</span>
                    <span id="overallExpenseAmount" class="font-medium text-gray-900">₹0</span>
                </div>
                <div class="flex justify-between">
                    <span>Categories</span>
                    <span id="overallExpenseCats" class="font-medium text-gray-900">0</span>
                </div>
                </div>
            </div>
            </div>

            <!-- Goals Section -->
            <div class="mb-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-semibold text-gray-800">Your Savings Goals</h2>
                <button
                id="addNewGoalBtn"
                class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity text-sm font-medium"
                >
                Add New Goal
                </button>
            </div>
            <div id="goalCards" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
            </div>

            <!-- Recent Activity (Tabs: Savings / Expenses) -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold text-gray-800">Recent Activity</h3>
                <div>
                <button
                    id="addSavingsBtn"
                    class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity text-sm font-medium mr-2"
                >
                    Add Savings
                </button>
                <button
                    id="addExpenseBtn"
                    class="bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-opacity text-sm font-medium"
                >
                    Add Expense
                </button>
                </div>
            </div>
            <div>
                <!-- Tab Buttons -->
                <div class="flex space-x-4 border-b mb-4">
                <button id="tabSavings" class="pb-2 border-b-2 border-indigo-600 text-indigo-600 font-medium">
                    Savings
                </button>
                <button id="tabExpenses" class="pb-2 text-gray-500 hover:text-gray-700">
                    Expenses
                </button>
                </div>
                <!-- Savings Table -->
                <div id="savingsActivity" class="">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                    <thead>
                        <tr>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Date
                        </th>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Member
                        </th>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Goal
                        </th>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Amount
                        </th>
                        </tr>
                    </thead>
                    <tbody id="activityHistorySavings" class="bg-white divide-y divide-gray-200">
                        <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" colspan="4">
                            No savings activity recorded yet
                        </td>
                        </tr>
                    </tbody>
                    </table>
                </div>
                </div>
                <!-- Expenses Table -->
                <div id="expensesActivity" class="hidden">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                    <thead>
                        <tr>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Date
                        </th>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Category
                        </th>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Subcategory
                        </th>
                        <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Amount
                        </th>
                        <th 
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                            >
                            Delete
                        </th>
                        </tr>
                    </thead>
                    <tbody id="activityHistoryExpenses" class="bg-white divide-y divide-gray-200">
                        <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" colspan="4">
                            No expenses recorded yet
                        </td>
                        </tr>
                    </tbody>
                    </table>
                </div>
                </div>
            </div>
            </div>

            <!-- Household Members -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold text-gray-800">Household Members</h3>
                <button
                id="manageMembersBtn"
                class="text-indigo-600 hover:text-indigo-800 py-2 px-4 border border-indigo-600 rounded-lg transition-colors text-sm font-medium"
                >
                Manage Members
                </button>
            </div>
            <div
                id="householdMembersList"
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
            ></div>
            </div>
        </div>
        </main>

    <!-- Footer -->
    <footer class="bg-white py-4 border-t">
      <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
        <p>© 2025 Dream Tracker. All rights reserved.</p>
      </div>
    </footer>
  </div>

    <!-- Add Savings Modal -->
    <div
        id="savingsModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Add Savings</h3>
        <form id="addSavingsForm" class="space-y-4">
            <div>
            <label for="savingsMember" class="block text-sm font-medium text-gray-700 mb-1">
                Contributor
            </label>
            <select
                id="savingsMember"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            >
                <!-- Members will be added here -->
            </select>
            </div>
            <div>
            <label for="savingsGoal" class="block text-sm font-medium text-gray-700 mb-1">
                Goal
            </label>
            <select
                id="savingsGoal"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            >
                <!-- Goals will be added here -->
            </select>
            </div>
            <div>
            <label for="savingsAmount" class="block text-sm font-medium text-gray-700 mb-1">
                Amount
            </label>
            <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">₹</span>
                <input
                type="number"
                id="savingsAmount"
                class="input-field w-full pl-8 px-4 py-2 border rounded-lg focus:outline-none"
                required
                />
            </div>
            </div>
            <div>
            <label for="savingsDate" class="block text-sm font-medium text-gray-700 mb-1">
                Date
            </label>
            <input
                type="date"
                id="savingsDate"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            />
            </div>
            <div>
            <label for="savingsNotes" class="block text-sm font-medium text-gray-700 mb-1">
                Notes (Optional)
            </label>
            <textarea
                id="savingsNotes"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                rows="2"
            ></textarea>
            </div>
            <div class="flex justify-end space-x-3 pt-2">
            <button
                type="button"
                id="cancelSavings"
                class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
            >
                Cancel
            </button>
            <button
                type="submit"
                class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
            >
                Add
            </button>
            </div>
        </form>
        </div>
    </div>

    <!-- Add Expense Modal -->
    <div
        id="expenseModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4 overflow-y-auto max-h-screen">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Add Expense</h3>
        <form id="addExpenseForm" class="space-y-4">
            <div>
            <label for="expenseCategory" class="block text-sm font-medium text-gray-700 mb-1">
                Expense Category
            </label>
            <select
                id="expenseCategory"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            >
                <option value="">Select Category</option>
                <option value="Bills">Bills</option>
                <option value="Rent">Rent</option>
                <option value="Kitchen">Kitchen Expenses</option>
                <option value="Garage">Garage Expenses</option>
                <option value="Travel">Travel & Transportation</option>
                <option value="Shopping">Shopping</option>
                <option value="Other">Other</option>
                <option value="Custom">Custom Category</option>
            </select>
            </div>
            <div id="subCategoryContainer">
            <label for="expenseSubcategory" class="block text-sm font-medium text-gray-700 mb-1">
                Expense Subcategory
            </label>
            <select
                id="expenseSubcategory"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            >
                <option value="">Select Subcategory</option>
            </select>
            </div>
            <div id="customExpenseCategoryContainer" class="hidden">
            <label for="customExpenseCategory" class="block text-sm font-medium text-gray-700 mb-1">
                Custom Category Name
            </label>
            <input
                type="text"
                id="customExpenseCategory"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="Enter custom category"
            />
            </div>
            <div id="customExpenseSubcategoryContainer" class="hidden">
            <label for="customExpenseSubcategory" class="block text-sm font-medium text-gray-700 mb-1">
                Custom Subcategory Name
            </label>
            <input
                type="text"
                id="customExpenseSubcategory"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="Enter custom subcategory"
            />
            </div>
            <div>
            <label for="expenseAmount" class="block text-sm font-medium text-gray-700 mb-1">
                Amount
            </label>
            <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">₹</span>
                <input
                type="number"
                id="expenseAmount"
                class="input-field w-full pl-8 px-4 py-2 border rounded-lg focus:outline-none"
                required
                />
            </div>
            </div>
            <div>
            <label for="expenseDate" class="block text-sm font-medium text-gray-700 mb-1">
                Date
            </label>
            <input
                type="date"
                id="expenseDate"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            />
            </div>
            <div>
            <label for="expenseNote" class="block text-sm font-medium text-gray-700 mb-1">
                Note (Optional)
            </label>
            <textarea
                id="expenseNote"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                rows="2"
            ></textarea>
            </div>
            <div class="flex justify-end space-x-3 pt-2">
            <button
                type="button"
                id="cancelExpense"
                class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
            >
                Cancel
            </button>
            <button
                type="submit"
                class="bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-opacity"
            >
                Add Expense
            </button>
            </div>
        </form>
        </div>
    </div>

    <!-- Add Goal Modal -->
<div id="goalModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
    <div class="flex justify-between items-center mb-4">
      <h3 id="goalModalTitle" class="text-xl font-semibold text-gray-800">
        Add New Goal
      </h3>
      <button type="button" id="closeGoalModalBtn" class="text-gray-500 hover:text-gray-700">
        <img
          src="https://cdn-icons-png.flaticon.com/512/1828/1828774.png"
          alt="Close"
          class="w-6 h-6"
        />
      </button>
    </div>
    <form id="addGoalForm" class="space-y-4">
            <input type="hidden" id="modalEditGoalId" value="" />
            <div>
            <label for="modalGoalCategory" class="block text-sm font-medium text-gray-700 mb-1">
                Item Category
            </label>
            <select
                id="modalGoalCategory"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            >
                <option value="">Select a category</option>
                <option value="home">Home/Property</option>
                <option value="car">Vehicle</option>
                <option value="electronics">Electronics</option>
                <option value="furniture">Furniture</option>
                <option value="other">Other</option>
            </select>
            </div>
            <div>
            <label for="modalGoalName" class="block text-sm font-medium text-gray-700 mb-1">
                Item Name
            </label>
            <input
                type="text"
                id="modalGoalName"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="e.g., New Home, Car, TV, etc."
                required
            />
            </div>
            <div>
            <label for="modalGoalCost" class="block text-sm font-medium text-gray-700 mb-1">
                Total Cost
            </label>
            <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">₹</span>
                <input
                type="number"
                id="modalGoalCost"
                class="input-field w-full pl-8 px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="Enter the total cost"
                required
                />
            </div>
            </div>
            <div>
            <label for="modalGoalDate" class="block text-sm font-medium text-gray-700 mb-1">
                Target Date
            </label>
            <input
                type="date"
                id="modalGoalDate"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                required
            />
            </div>
            <div>
            <label for="modalGoalBank" class="block text-sm font-medium text-gray-700 mb-1">
                Bank Name
            </label>
            <input
                type="text"
                id="modalGoalBank"
                class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                placeholder="Bank where saving"
                required
            />
            </div>
            <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Contributors</label>
            <div id="modalGoalContributors" class="space-y-2"></div>
            </div>
            <div class="flex justify-end space-x-3 pt-2">
            <button
                type="button"
                id="cancelGoal"
                class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
            >
                Cancel
            </button>
            <button
                type="submit"
                class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
            >
                Add Goal
            </button>
            </div>
        </form>
        </div>
    </div>

    <!-- Manage Members Modal -->
    <div
        id="membersModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Manage Household Members</h3>
        <div class="space-y-4">
            <div id="membersList" class="space-y-3 max-h-60 overflow-y-auto">
            <!-- Members will be listed here -->
            </div>
            <form id="addMemberForm" class="pt-4 border-t border-gray-200">
            <h4 class="text-md font-medium text-gray-700 mb-3">Add New Member</h4>
            <div class="space-y-4">
                <div>
                <label for="newMemberName" class="block text-sm font-medium text-gray-700 mb-1">
                    Name
                </label>
                <input
                    type="text"
                    id="newMemberName"
                    class="input-field w-full px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Enter member name"
                    required
                />
                </div>
                <div>
                <label for="newMemberIncome" class="block text-sm font-medium text-gray-700 mb-1">
                    Monthly Income
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">₹</span>
                    <input
                    type="number"
                    id="newMemberIncome"
                    class="input-field w-full pl-8 px-4 py-2 border rounded-lg focus:outline-none"
                    placeholder="Enter monthly income"
                    required
                    />
                </div>
                </div>
                <button
                type="submit"
                class="w-full gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
                >
                Add Member
                </button>
            </div>
            </form>
            <div class="flex justify-end pt-4">
            <button
                type="button"
                id="closeMembersModal"
                class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
            >
                Close
            </button>
            </div>
        </div>
        </div>
    </div>

    <!-- Goal Details Modal -->
    <div
        id="goalDetailsModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
        <div class="bg-white rounded-xl p-6 w-full max-w-2xl mx-4">
        <div class="flex justify-between items-center mb-4">
            <h3 id="detailsGoalName" class="text-xl font-semibold text-gray-800">Goal Details</h3>
            <button id="closeGoalDetails" class="text-gray-500 hover:text-gray-700">
            <img
                src="https://cdn-icons-png.flaticon.com/512/1828/1828774.png"
                alt="Close"
                class="w-6 h-6"
            />
            </button>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div>
            <p class="text-sm text-gray-500 mb-1">Category</p>
            <p id="detailsGoalCategory" class="text-lg font-medium text-gray-800">-</p>
            </div>
            <div>
            <p class="text-sm text-gray-500 mb-1">Total Cost</p>
            <p id="detailsGoalCost" class="text-lg font-medium text-gray-800">₹0</p>
            </div>
            <div>
            <p class="text-sm text-gray-500 mb-1">Current Savings</p>
            <p id="detailsGoalSavings" class="text-lg font-medium text-gray-800">₹0</p>
            </div>
            <div>
            <p class="text-sm text-gray-500 mb-1">Target Date</p>
            <p id="detailsGoalDate" class="text-lg font-medium text-gray-800">-</p>
            </div>
            <div>
            <p class="text-sm text-gray-500 mb-1">Bank Name</p>
            <p id="detailsGoalBank" class="text-lg font-medium text-gray-800">-</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="text-sm text-gray-500 mb-2">Progress</p>
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-1">
            <div
                id="detailsGoalProgress"
                class="progress-bar bg-indigo-600 h-2.5 rounded-full"
                style="width: 0%"
            ></div>
            </div>
            <div class="flex justify-between">
            <p id="detailsGoalPercentage" class="text-xs text-gray-500">0%</p>
            <p id="detailsGoalRemaining" class="text-xs text-gray-500">₹0 remaining</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="text-sm text-gray-500 mb-2">Contributors</p>
            <div id="detailsGoalContributors" class="flex flex-wrap gap-2">
            <!-- Contributors will be added here -->
            </div>
        </div>

        <div class="mb-6">
            <p class="text-sm text-gray-500 mb-2">Savings History</p>
            <div class="overflow-x-auto max-h-60 overflow-y-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50 sticky top-0">
                <tr>
                    <th
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                    Date
                    </th>
                    <th
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                    Member
                    </th>
                    <th
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                    Amount
                    </th>
                    <th
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                    Notes
                    </th>
                </tr>
                </thead>
                <tbody id="detailsGoalHistory" class="bg-white divide-y divide-gray-200">
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" colspan="4">
                    No savings recorded yet
                    </td>
                </tr>
                </tbody>
            </table>
            </div>
        </div>

        <div class="flex justify-between mt-6">
            <button
            id="editGoalBtn"
            class="px-4 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50"
            >
            Edit Goal
            </button>
            <button
            id="addGoalSavingsBtn"
            class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
            >
            Add Savings
            </button>
        </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div
        id="settingsModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
        <div class="bg-white rounded-xl p-6 w-full max-w-lg mx-4 overflow-y-auto max-h-screen">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-semibold text-gray-800">Settings</h3>
            <button id="closeSettingsBtn" class="text-gray-500 hover:text-gray-700">
            <img
                src="https://cdn-icons-png.flaticon.com/512/1828/1828774.png"
                alt="Close"
                class="w-6 h-6"
            />
            </button>
        </div>
        <form id="settingsForm" class="space-y-6">
            <!-- Profile Picture Upload -->
            <div>
            <p class="block text-sm font-medium text-gray-700 mb-1">Profile Picture</p>
            <div class="flex items-center space-x-4">
                <img
                id="settingsProfilePicPreview"
                src=""
                alt="Profile Preview"
                class="w-16 h-16 rounded-full object-cover hidden"
                />
                <div id="settingsAvatarInitial" class="contributor-avatar">G</div>
                <button
                type="button"
                id="changeProfilePicBtn"
                class="px-3 py-1 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200"
                >
                Change
                </button>
                <input type="file" id="profilePicInput" accept="image/*" />
            </div>
            </div>

            <!-- Logout -->
            <div>
            <button
                type="button"
                id="logoutInSettings"
                class="w-full py-2 px-4 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-center"
            >
                Logout
            </button>
            </div>

        <!-- Edit Goals Section -->
        <div>
          <p class="block text-sm font-medium text-gray-700 mb-1">Edit Existing Goals</p>
          <div id="settingsGoalsList" class="space-y-4 max-h-60 overflow-y-auto border border-gray-200 rounded-lg p-3">
            <!-- Each existing goal will appear here with editable fields -->
          </div>
        </div>

        <div class="flex justify-end space-x-3 pt-2">
          <button
            type="button"
            id="cancelSettings"
            class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
          >
            Cancel
          </button>
          <button
            type="submit"
            class="gradient-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
          >
            Save Settings
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Notification -->
  <div
    id="notification"
    class="fixed bottom-4 right-4 bg-white rounded-lg shadow-lg p-4 transform transition-transform duration-300 translate-y-20 opacity-0 flex items-center"
  >
    <div id="notificationIcon" class="mr-3 text-green-500">
      <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="Success Icon" class="w-6 h-6"/>
    </div>
    <p id="notificationText" class="text-gray-800"></p>
  </div>

  <!-- Daily Goals Modal -->
  <div id="dailyGoalsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl p-6 w-full max-w-lg mx-4 relative">
      <button id="closeDailyGoals" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800">✕</button>
      <h3 class="text-xl font-semibold mb-4">Today’s Savings Goals</h3>
      <div class="overflow-x-auto flex space-x-4 snap-x snap-mandatory">
        <!-- Cards injected by JS -->
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="script.js" defer></script>

</body>
</html>